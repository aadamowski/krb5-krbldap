2006-04-08  Ken Raeburn  <raeburn@mit.edu>

	* ldap_exp.c: Include k5-int.h before testing HAVE_UNISTD_H.

2006-03-21  Ken Raeburn  <raeburn@mit.edu>

	* Makefile.in (SHLIB_EXPDEPS, SHLIB_EXPLIBS): Add kdb_ldap
	and support libraries.

2006-03-17  Ken Raeburn  <raeburn@mit.edu>

	* Most files moved to lib/kdb_ldap.
	* Makefile.in: Updated.
	* kldap.exports: Only export the one symbol now defined.

	* ldap_misc.c (format_d): New function.
	(krb5_add_int_arr_mem_ldap_mod, krb5_add_int_mem_ldap_mod): Use it
	instead of asprintf.

	* Makefile.in: Remove all references to DB library.
	(MODULE_INSTALL_DIR): Define.

2006-03-16  Ken Raeburn  <raeburn@mit.edu>

	* ldap_exp.c: Wrap all functions with mutex protection.

	* configure.in: Don't link against db library on AIX.  If the
	"lber" library is not found, then warn about that, not about the
	ldap library.

2006-03-14  Ken Raeburn  <raeburn@mit.edu>

	* ldap_err.h (LDAP_ERR_BASE, MAX_NEG, LDAP_TO_KDB_ERR): Unused
	macros deleted.

2006-03-07  Ken Raeburn  <raeburn@mit.edu>

	* kdb_ldap.h (HNDL_LOCK, HNDL_UNLOCK): Remove unneeded trailing
	semicolon.
	(timezone): Remove unused declaration.
	(STORE16_INT, STORE32_INT, UNSTORE16_INT, UNSTORE32_INT): Use
	inline functions already defined in k5-int.h.

2006-01-29  Sam Hartman  <hartmans@mit.edu>

	* ldap_exp.c (krb5_db_vftabl_kldap): Remove thread safe flag

	* ldap_err.c: Ignore LDAP_X_ERROR if not supported by version of OpenLDAP in use

	* ldap_principal2.c: Accept LDAP_OPT_ERROR_NUMBER as a less-preferred synonym for LDAP_OPT_RESULT_CODE

