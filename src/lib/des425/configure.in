AC_INIT(configure.in)
CONFIG_RULES
AC_PROG_ARCHIVE
AC_PROG_ARCHIVE_ADD
AC_PROG_RANLIB
AC_PROG_INSTALL
AC_CHECK_SIZEOF(short)
AC_CHECK_SIZEOF(int)
AC_CHECK_SIZEOF(long)
dnl
HAS_ANSI_VOLATILE
AC_MSG_CHECKING([if pragma weak supported])
AC_CACHE_VAL(krb5_cv_pragma_weak,
[AC_TRY_LINK(
[#pragma weak testit = __testit
int __testit = 1;],
[extern int testit;
exit(testit);],
krb5_cv_pragma_weak=yes, krb5_cv_pragma_weak=no)])
AC_MSG_RESULT($krb5_cv_pragma_weak)
if test $krb5_cv_pragma_weak = yes; then
AC_DEFINE(HAVE_PRAGMA_WEAK)
fi
dnl
V5_SHARED_LIB_OBJS
SubdirLibraryRule([${OBJS}])
CRYPTO_SH_VERS=$krb5_cv_shlib_version_libcrypto
AC_SUBST(CRYPTO_SH_VERS)
KRB5_SH_VERS=$krb5_cv_shlib_version_libkrb5
AC_SUBST(KRB5_SH_VERS)
KRB5_RUN_FLAGS
V5_MAKE_SHARED_LIB(libdes425,1.0,.., ./des425)
V5_AC_OUTPUT_MAKEFILE
