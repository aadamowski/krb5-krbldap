thisconfigdir=../../..
myfulldir=lib/crypto/krb
mydir=lib/crypto/krb
BUILDTOP=$(REL)..$(S)..$(S)..
SUBDIRS= crc32 dk hash_provider keyhash_provider \
	prf rand2key old raw yarrow 
LOCALINCLUDES = -I$(srcdir) -I$(srcdir)/../@CRYPTO_IMPL@/enc_provider -I$(srcdir)/dk	\
		-I$(srcdir)/hash_provider -I$(srcdir)/keyhash_provider 			\
		-I$(srcdir)/prf -I$(srcdir)/rand2key		 			\
		-I$(srcdir)/old -I$(srcdir)/raw -I$(srcdir)/yarrow 			\
		-I$(srcdir)/../@CRYPTO_IMPL@/ -I$(srcdir)/../@CRYPTO_IMPL@/des		\
		-I$(srcdir)/../@CRYPTO_IMPL@/aes -I$(srcdir)/../@CRYPTO_IMPL@/arcfour 	\
		-I$(srcdir)/../@CRYPTO_IMPL@/sha1
PROG_LIBPATH=-L$(TOPLIBD)
PROG_RPATH=$(KRB5_LIBDIR)
DEFS=

##DOSBUILDTOP = ..\..\..
##DOSLIBNAME=$(OUTPRE)crypto.lib
##DOSOBJFILE=$(OUTPRE)crypto.lst
##DOSOBJFILELIST=@$(OUTPRE)crypto.lst @$(OUTPRE)des.lst @$(OUTPRE)md4.lst @$(OUTPRE)md5.lst @$(OUTPRE)sha1.lst @$(OUTPRE)arcfour.lst @$(OUTPRE)crc32.lst @$(OUTPRE)dk.lst @$(OUTPRE)old.lst @$(OUTPRE)raw.lst @$(OUTPRE)enc_prov.lst @$(OUTPRE)hash_pro.lst @$(OUTPRE)kh_pro.lst @$(OUTPRE)yarrow.lst @$(OUTPRE)aes.lst
##DOSOBJFILEDEP =$(OUTPRE)crypto.lst $(OUTPRE)des.lst $(OUTPRE)md4.lst $(OUTPRE)md5.lst $(OUTPRE)sha1.lst $(OUTPRE)arcfour.lst $(OUTPRE)crc32.lst $(OUTPRE)dk.lst $(OUTPRE)old.lst $(OUTPRE)raw.lst $(OUTPRE)enc_prov.lst $(OUTPRE)hash_pro.lst $(OUTPRE)kh_pro.lst $(OUTPRE)aes.lst

PROG_LIBPATH=-L$(TOPLIBD)
PROG_RPATH=$(KRB5_LIBDIR)

STLIBOBJS=\
	aead.o		 	\
	block_size.o		\
	cf2.o 			\
	checksum_length.o	\
	cksumtype_to_string.o	\
	cksumtypes.o		\
	coll_proof_cksum.o	\
	combine_keys.o		\
	crypto_length.o		\
	crypto_libinit.o	\
	default_state.o 	\
	decrypt.o		\
	decrypt_iov.o		\
	encrypt.o		\
	encrypt_iov.o		\
	encrypt_length.o	\
	enctype_compare.o	\
	enctype_to_string.o	\
	etypes.o		\
	key.o			\
	keyblocks.o 		\
	keyed_cksum.o		\
	keyed_checksum_types.o	\
	keylengths.o		\
	make_checksum.o		\
	make_checksum_iov.o	\
	make_random_key.o	\
	mandatory_sumtype.o	\
	nfold.o			\
	old_api_glue.o		\
	prf.o			\
	prng.o			\
	random_to_key.o		\
	state.o 		\
	string_to_cksumtype.o	\
	string_to_enctype.o	\
	string_to_key.o		\
	valid_cksumtype.o	\
	valid_enctype.o		\
	verify_checksum.o	\
	verify_checksum_iov.o

OBJS=\
	$(OUTPRE)aead.$(OBJEXT)		 	\
	$(OUTPRE)block_size.$(OBJEXT)		\
	$(OUTPRE)cf2$(OBJEXT) 			\
	$(OUTPRE)checksum_length.$(OBJEXT)	\
	$(OUTPRE)cksumtype_to_string.$(OBJEXT)	\
	$(OUTPRE)cksumtypes.$(OBJEXT)		\
	$(OUTPRE)coll_proof_cksum.$(OBJEXT)	\
	$(OUTPRE)combine_keys.$(OBJEXT)		\
	$(OUTPRE)crypto_length.$(OBJEXT)	\
	$(OUTPRE)crypto_libinit.$(OBJEXT)	\
	$(OUTPRE)default_state.$(OBJEXT) 	\
	$(OUTPRE)decrypt.$(OBJEXT)		\
	$(OUTPRE)decrypt_iov.$(OBJEXT)		\
	$(OUTPRE)encrypt.$(OBJEXT)		\
	$(OUTPRE)encrypt_iov.$(OBJEXT)		\
	$(OUTPRE)encrypt_length.$(OBJEXT)	\
	$(OUTPRE)enctype_compare.$(OBJEXT)	\
	$(OUTPRE)enctype_to_string.$(OBJEXT)	\
	$(OUTPRE)etypes.$(OBJEXT)		\
	$(OUTPRE)key.$(OBJECT)			\
	$(OUTPRE)keyblocks.$(OBJEXT) 		\
	$(OUTPRE)keyed_cksum.$(OBJEXT)		\
	$(OUTPRE)keyed_checksum_types.$(OBJEXT)	\
	$(OUTPRE)keylengths.$(OBJEXT)		\
	$(OUTPRE)make_checksum.$(OBJEXT)	\
	$(OUTPRE)make_checksum_iov.$(OBJEXT)	\
	$(OUTPRE)make_random_key.$(OBJEXT)	\
	$(OUTPRE)mandatory_sumtype.$(OBJEXT)	\
	$(OUTPRE)nfold.$(OBJEXT)		\
	$(OUTPRE)old_api_glue.$(OBJEXT)		\
	$(OUTPRE)prf.$(OBJEXT) 			\
	$(OUTPRE)prng.$(OBJEXT)			\
	$(OUTPRE)random_to_key.$(OBJEXT)	\
	$(OUTPRE)state.$(OBJEXT) 		\
	$(OUTPRE)string_to_cksumtype.$(OBJEXT)	\
	$(OUTPRE)string_to_enctype.$(OBJEXT)	\
	$(OUTPRE)string_to_key.$(OBJEXT)	\
	$(OUTPRE)valid_cksumtype.$(OBJEXT)	\
	$(OUTPRE)valid_enctype.$(OBJEXT)	\
	$(OUTPRE)verify_checksum.$(OBJEXT)	\
	$(OUTPRE)verify_checksum_iov.$(OBJEXT)

SRCS=\
	$(srcdir)/aead.c		\
	$(srcdir)/block_size.c		\
	$(srcdir)/checksum_length.c	\
	$(srcdir)/cksumtype_to_string.c	\
	$(srcdir)/cksumtypes.c		\
	$(srcdir)/coll_proof_cksum.c	\
	$(srcdir)/combine_keys.c	\
	$(srcdir)/crypto_length.c	\
	$(srcdir)/crypto_libinit.c	\
	$(srcdir)/default_state.c 	\
	$(srcdir)/decrypt.c		\
	$(srcdir)/decrypt_iov.c		\
	$(srcdir)/encrypt.c		\
	$(srcdir)/encrypt_iov.c		\
	$(srcdir)/encrypt_length.c	\
	$(srcdir)/enctype_compare.c	\
	$(srcdir)/enctype_to_string.c	\
	$(srcdir)/etypes.c		\
	$(srcdir)/key.c			\
	$(srcdir)/keyblocks.c 		\
	$(srcdir)/keyed_cksum.c		\
	$(srcdir)/keyed_checksum_types.c\
	$(srcdir)/keylengths.c		\
	$(srcdir)/make_checksum.c	\
	$(srcdir)/make_checksum_iov.c	\
	$(srcdir)/make_random_key.c	\
	$(srcdir)/mandatory_sumtype.c	\
	$(srcdir)/nfold.c		\
	$(srcdir)/old_api_glue.c	\
	$(srcdir)/prf.c 		\
	$(srcdir)/cf2.c 		\
	$(srcdir)/prng.c		\
	$(srcdir)/random_to_key.c	\
	$(srcdir)/state.c 		\
	$(srcdir)/string_to_cksumtype.c	\
	$(srcdir)/string_to_enctype.c	\
	$(srcdir)/string_to_key.c	\
	$(srcdir)/valid_cksumtype.c	\
	$(srcdir)/valid_enctype.c	\
	$(srcdir)/verify_checksum.c	\
	$(srcdir)/verify_checksum_iov.c

STOBJLISTS=crc32/OBJS.ST  dk/OBJS.ST 			 	\
	hash_provider/OBJS.ST keyhash_provider/OBJS.ST  	\
	prf/OBJS.ST rand2key/OBJS.ST 			 	\
	old/OBJS.ST raw/OBJS.ST  yarrow/OBJS.ST  OBJS.ST

SUBDIROBJLISTS=crc32/OBJS.ST  dk/OBJS.ST 		 	\
	hash_provider/OBJS.ST keyhash_provider/OBJS.ST  	\
	prf/OBJS.ST rand2key/OBJS.ST 			 	\
	old/OBJS.ST raw/OBJS.ST  yarrow/OBJS.ST OBJS.ST 

##DOS##LIBOBJS = $(OBJS)

all-unix:: all-libobjs
includes:: depend

depend:: $(SRCS)

clean-unix:: clean-libobjs

all-windows::
	cd crc32
	@echo Making in crypto\crc32
	$(MAKE) -$(MFLAGS)
	cd ..\dk
	@echo Making in crypto\dk
	$(MAKE) -$(MFLAGS)
	cd ..\hash_provider
	@echo Making in crypto\hash_provider
	$(MAKE) -$(MFLAGS)
	cd ..\keyhash_provider
	@echo Making in crypto\keyhash_provider
	$(MAKE) -$(MFLAGS)
	cd ..\prf
	@echo Making in crypto\prf
	$(MAKE) -$(MFLAGS)
	cd ..\rand2key
	@echo Making in crypto\rand2key
	$(MAKE) -$(MFLAGS)
	cd ..\old
	@echo Making in crypto\old
	$(MAKE) -$(MFLAGS)
	cd ..\raw
	@echo Making in crypto\raw
	$(MAKE) -$(MFLAGS)
	cd ..\yarrow
	@echo Making in crypto\yarrow
	$(MAKE) -$(MFLAGS)
	cd ..

clean-windows::
	cd crc32
	@echo Making in clean crypto\crc32
	$(MAKE) -$(MFLAGS) clean
	cd ..\dk
	@echo Making clean in crypto\dk
	$(MAKE) -$(MFLAGS) clean
	cd ..\hash_provider
	@echo Making clean in crypto\hash_provider
	$(MAKE) -$(MFLAGS) clean
	cd ..\keyhash_provider
	@echo Making clean in crypto\keyhash_provider
	$(MAKE) -$(MFLAGS) clean
	cd ..\prf
	@echo Making clean in crypto\prf
	$(MAKE) -$(MFLAGS) clean
	cd ..\rand2key
	@echo Making clean in crypto\rand2key
	$(MAKE) -$(MFLAGS) clean
	cd ..\old
	@echo Making clean in crypto\old
	$(MAKE) -$(MFLAGS) clean
	cd ..\raw
	@echo Making clean in crypto\raw
	$(MAKE) -$(MFLAGS) clean
	cd ..\yarrow
	@echo Making clean in crypto\yarrow
	$(MAKE) -$(MFLAGS) clean
	cd ..

check-windows::
	cd crc32
	@echo Making in check crypto\crc32
	$(MAKE) -$(MFLAGS) check
	cd ..\dk
	@echo Making check in crypto\dk
	$(MAKE) -$(MFLAGS) check
	cd ..\hash_provider
	@echo Making check in crypto\hash_provider
	$(MAKE) -$(MFLAGS) check
	cd ..\keyhash_provider
	@echo Making check in crypto\keyhash_provider
	$(MAKE) -$(MFLAGS) check
	cd ..\prf
	@echo Making check in crypto\prf
	$(MAKE) -$(MFLAGS) check
	cd ..\rand2key
	@echo Making check in crypto\rand2key
	$(MAKE) -$(MFLAGS) check
	cd ..\old
	@echo Making check in crypto\old
	$(MAKE) -$(MFLAGS) check
	cd ..\raw
	@echo Making check in crypto\raw
	$(MAKE) -$(MFLAGS) check
	cd ..\yarrow
	@echo Making check in crypto\yarrow
	$(MAKE) -$(MFLAGS) check
	cd ..


@lib_frag@
@libobj_frag@

