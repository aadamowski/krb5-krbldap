thisconfigdir=../../../..
myfulldir=lib/crypto/builtin/des
mydir=lib/crypto/builtin/des
BUILDTOP=$(REL)..$(S)..$(S)..$(S)..
LOCALINCLUDES = -I$(srcdir)/.. -I$(srcdir)/../.. -I$(srcdir)/../../krb
DEFS=

##DOS##BUILDTOP = ..\..\..\..
##DOS##PREFIXDIR=des
##DOS##OBJFILE=..\$(OUTPRE)des.lst

RUN_SETUP = @KRB5_RUN_ENV@
PROG_LIBPATH=-L$(TOPLIBD)
PROG_RPATH=$(KRB5_LIBDIR)

CIMPL = @CRYPTO_IMPL@/des

STLIBOBJS=\
	../../$(CIMPL)/afsstring2key.o	\
	../../$(CIMPL)/d3_cbc.o	\
	../../$(CIMPL)/d3_aead.o	\
	../../$(CIMPL)/d3_kysched.o	\
	../../$(CIMPL)/f_aead.o 	\
	../../$(CIMPL)/f_cbc.o 	\
	../../$(CIMPL)/f_cksum.o	\
	../../$(CIMPL)/f_parity.o 	\
	../../$(CIMPL)/f_sched.o 	\
	../../$(CIMPL)/f_tables.o	\
	../../$(CIMPL)/key_sched.o	\
	../../$(CIMPL)/string2key.o	\
	../../$(CIMPL)/weak_key.o

OBJS=	$(OUTPRE)../../$(CIMPL)/afsstring2key.$(OBJEXT)	\
	$(OUTPRE)../../$(CIMPL)/d3_cbc.$(OBJEXT)	\
	$(OUTPRE)../../$(CIMPL)/d3_aead.$(OBJEXT)	\
	$(OUTPRE)../../$(CIMPL)/d3_kysched.$(OBJEXT)	\
	$(OUTPRE)../../$(CIMPL)/f_aead.$(OBJEXT) 	\
	$(OUTPRE)../../$(CIMPL)/f_cbc.$(OBJEXT) 	\
	$(OUTPRE)../../$(CIMPL)/f_cksum.$(OBJEXT)	\
	$(OUTPRE)../../$(CIMPL)/f_parity.$(OBJEXT) 	\
	$(OUTPRE)../../$(CIMPL)/f_sched.$(OBJEXT) 	\
	$(OUTPRE)../../$(CIMPL)/f_tables.$(OBJEXT)	\
	$(OUTPRE)../../$(CIMPL)/key_sched.$(OBJEXT)	\
	$(OUTPRE)../../$(CIMPL)/string2key.$(OBJEXT)	\
	$(OUTPRE)../../$(CIMPL)/weak_key.$(OBJEXT)

SRCS=	$(srcdir)/../../$(CIMPL)/afsstring2key.c	\
	$(srcdir)/../../$(CIMPL)/d3_cbc.c	\
	$(srcdir)/../../$(CIMPL)/d3_aead.c	\
	$(srcdir)/../../$(CIMPL)/d3_kysched.c	\
	$(srcdir)/../../$(CIMPL)/f_aead.c	\
	$(srcdir)/../../$(CIMPL)/f_cbc.c	\
	$(srcdir)/../../$(CIMPL)/f_cksum.c	\
	$(srcdir)/../../$(CIMPL)/f_parity.c	\
	$(srcdir)/../../$(CIMPL)/f_sched.c	\
	$(srcdir)/../../$(CIMPL)/f_tables.c	\
	$(srcdir)/../../$(CIMPL)/key_sched.c	\
	$(srcdir)/../../$(CIMPL)/weak_key.c	\
	$(srcdir)/../../$(CIMPL)/string2key.c

EXTRADEPSRCS = $(SRCDIR)destest.c

##DOS##LIBOBJS = $(OBJS)

TOBJS = $(OUTPRE)key_sched.$(OBJEXT) $(OUTPRE)f_sched.$(OBJEXT) \
	$(OUTPRE)f_cbc.$(OBJEXT) $(OUTPRE)f_tables.$(OBJEXT) \
	$(OUTPRE)f_cksum.$(OBJEXT)

destest$(EXEEXT): destest.$(OBJEXT) $(TOBJS) $(SUPPORT_DEPLIB)
	$(CC_LINK) -o $@ destest.$(OBJEXT) $(TOBJS) $(SUPPORT_LIB)

all-unix:: all-libobjs

check-unix:: destest
	$(RUN_SETUP) $(VALGRIND) ./destest < $(srcdir)/keytest.data

includes:: depend

depend:: $(SRCS)

check-windows::

clean::
	$(RM) destest.$(OBJEXT) destest$(EXEEXT)

clean-unix:: clean-libobjs

@libobj_frag@

