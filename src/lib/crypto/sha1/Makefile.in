thisconfigdir=./..
BUILDTOP=$(REL)$(U)$(S)$(U)$(S)$(U)
CFLAGS = $(CCOPTS) $(DEFS)

##DOS##BUILDTOP = ..\..\..
##DOS##PREFIXDIR=sha1
##DOS##OBJFILE=..\sha2.lst
##WIN16##LIBNAME=..\crypto.lib

PROG_LIBPATH=-L$(TOPLIBD)
PROG_RPATH=$(KRB5_LIBDIR)

RUN_SETUP = @KRB5_RUN_ENV@ KRB5_CONFIG=$(SRCTOP)/config-files/krb5.conf

STLIBOBJS= shs.o

OBJS= shs.$(OBJEXT) 

SRCS= $(srcdir)/shs.c

##DOS##LIBOBJS = $(OBJS)

all-unix:: all-libobjs

includes:: depend

depend:: $(SRCS)

t_shs: t_shs.o shs.o
	$(CC) $(CFLAGS) $(LDFLAGS) -o t_shs t_shs.o shs.o

t_shs.exe:
	$(CC) $(CFLAGS2) -o t_shs.exe t_shs.c shs.c

check-unix:: t_shs
	$(C)t_shs -x

check-windows:: t_shs$(EXEEXT)
	$(C)t_shs$(EXEEXT) -x

clean:: 
	$(RM) t_shs$(EXEEXT) t_shs.$(OBJEXT)

clean-unix:: clean-libobjs
