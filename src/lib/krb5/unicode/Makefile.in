thisconfigdir=../../..
myfulldir=lib/krb5/unicode
mydir=lib/krb5/unicode
BUILDTOP=$(REL)..$(S)..$(S)..
KRB5_RUN_ENV = @KRB5_RUN_ENV@
PROG_LIBPATH=-L$(TOPLIBD)
PROG_RPATH=$(KRB5_LIBDIR)
DEFS=
DEFINES=-DLIBDIR=\"$(KRB5_LIBDIR)\"
LOCALINCLUDES=

##DOS##BUILDTOP = ..\..\..
##DOS##PREFIXDIR=unicode
##DOS##OBJFILE=..\$(OUTPRE)$(PREFIXDIR).lst

XXDIR = $(srcdir)/ucdata/
XXHEADERS = ucdata.h ure.h uctable.h
XXSRCS  = ucdata.c ucgendat.c ure.c urestubs.c

STLIBOBJS= \
	ucdata.o	\
	ure.o		\
	urestubs.o	\
	ucstr.o		

OBJS= \
	$(OUTPRE)ucdata.$(OBJEXT)	\
	$(OUTPRE)ure.$(OBJEXT)		\
	$(OUTPRE)urestubs.$(OBJEXT)	\
	$(OUTPRE)ucstr.$(OBJEXT)	

SRCS= \
	$(srcdir)/ucstr.c	

EXTRADEPSRCS = 

##DOS##LIBOBJS = $(OBJS)

all-unix:: all-libobjs
clean-unix:: clean-libobjs

shared:
	mkdir shared

uctable.h: $(XXDIR)/uctable.h

$(XXDIR)/uctable.h: $(XXDIR)/ucgendat.c $(srcdir)/UnicodeData.txt $(srcdir)/CompositionExclusions.txt
	$(MAKE) ucgendat
	./ucgendat $(srcdir)/UnicodeData.txt -x $(srcdir)/CompositionExclusions.txt

ucgendat: ucgendat.o
	$(CC_LINK) $(ALL_CFLAGS) -o ucgendat ucgendat.o $(LIBS)

.links :
	@for i in $(XXSRCS) $(XXHEADERS); do \
		$(RM) $$i ; \
		ii=`find $(srcdir) -name $$i` ; \
		$(LN_S) $$ii . ; \
	done
	touch .links

$(XXSRCS) $(XXHEADERS) : .links

clean:: 
	$(RM) *.dat .links $(XXHEADERS) $(XXSRCS) ucgendat

depend:: .links

@libobj_frag@
# +++ Dependency line eater +++
# 
# Makefile dependencies follow.  This must be the last section in
# the Makefile.in file
#
ucstr.so ucstr.po $(OUTPRE)ucstr.$(OBJEXT): $(BUILDTOP)/include/autoconf.h \
  $(BUILDTOP)/include/krb5/krb5.h $(BUILDTOP)/include/osconf.h \
  $(BUILDTOP)/include/profile.h $(COM_ERR_DEPS) $(SRCTOP)/include/k5-buf.h \
  $(SRCTOP)/include/k5-err.h $(SRCTOP)/include/k5-gmt_mktime.h \
  $(SRCTOP)/include/k5-int-pkinit.h $(SRCTOP)/include/k5-int.h \
  $(SRCTOP)/include/k5-platform.h $(SRCTOP)/include/k5-plugin.h \
  $(SRCTOP)/include/k5-thread.h $(SRCTOP)/include/k5-unicode.h \
  $(SRCTOP)/include/k5-utf8.h $(SRCTOP)/include/krb5.h \
  $(SRCTOP)/include/krb5/locate_plugin.h $(SRCTOP)/include/krb5/preauth_plugin.h \
  $(SRCTOP)/include/port-sockets.h $(SRCTOP)/include/socket-utils.h \
  ucstr.c
