2006-05-04  Tom Yu  <tlyu@mit.edu>

	* gssapiP_spnego.h: Add REQUEST_MIC.  Add many state variables to
	spnego_gss_ctx_id_rec.

	* spnego_mech.c: New functions acc_ctx_new, acc_ctx_cont,
	acc_ctx_vfymic, get_negTokenInit, get_negTokenResp.
	(spnego_gss_accept_sec_context): Split into smaller pieces.
	Implement RFC 4178 handling of MIC optionality.
	(g_get_tag_and_length): Tighten up some length checks.  Take an
	int rather than unsigned char for tag.
	(make_spnego_tokenTarg_msg): Tweak error handling.  Remove MS_flag
	argument.
	(negotiate_mech_type): Remove firstMech argument.  Use negResult
	to indicate what firstMech used to.
	(get_req_flags): Tweak error handling.

2006-03-28  Tom Yu  <tlyu@.mit.edu>

	* spnego_mech.c (check_spnego_options, create_spnego_ctx): Force
	to 1 for testing purposes.
	(spnego_gss_init_sec_context): Don't check for mechListMIC if
	MS_Interop is true.
	(make_spnego_tokenTarg_msg): Never send duplicate AP-REP as
	mechListMIC; omit mechListMIC instead.

2006-03-26  Tom Yu  <tlyu@mit.edu>

	* spnego_mech.c: s/uchar_t/unsigned char/g.  Bash cast to
	uint32_t, but that should get looked at again in detail.

	* gssapiP_spnego.h: Don't include synch.h.

	* spnego_mech.c (spnego_mechanism): Tweak for correct ordering of
	pointers.
	(gss_mech_initialize): Disable for now.

2006-03-10  Tom Yu  <tlyu@mit.edu>

	* gssapiP_spnego.h, spnego_mech.c: Rename symbols for namespace
	purity.
