mydir=plugin_core
BUILDTOP=$(REL)..
RELDIR=../plugin_core
PROG_LIBPATH=-L$(TOPLIBD)
PROG_RPATH=$(KRB5_LIBDIR)
DEFS=

LOCALINCLUDES = -I$(srcdir)/../include/krb5  -I$(srcdir)/. -I$(srcdir)/../plugins/pwd_qlty -I$(srcdir)/../util/profile

LIBBASE= plugin_core
LIBMAJOR=0
LIBMINOR=0
SO_EXT=.so

# LIBS_UTILS = -lyaml
# LIBS_UTILS = -lprofile
LIBS_UTILS = $(BUILDTOP)/util/profile/libprofile.so

SHLIB_DIRS=-L$(TOPLIBD) 
SHLIB_RDIRS=$(KRB5_LIBDIR)
STOBJLISTS=OBJS.ST

SHLIB_EXPLIBS=  $(LIBS_UTILS)
 
STLIBOBJS= plugin_manager.o plugin_loader.o krb5_parser.o	

SRCS= plugin_manager.c plugin_loader.c krb5_parser.c

all-unix:: all-liblinks
install-unix:: install-libs
clean-unix:: clean-libs clean-libobjs clean-liblinks

clean::
	$(RM) lib$(LIBBASE)$(SO_EXT)

@lib_frag@
@libobj_frag@

